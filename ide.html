<html>
	<head>
		<title>RaspberrySTEM</title>
		<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"/>
		<style>
			html, body {
				overflow: hidden;
				width: 100%;
				height: 100%;
				top: 0;
				font-family: monospace;
			}
			
			body {
				margin: 0; /*Override default*/
				position: relative
			}

			header {
				height: 2em;
				color: #fff;
				-moz-user-select: none;
				-webkit-user-select: none;
				user-select:none;
			}

			.headertextRight {
				right: 50% !important;
				margin-right: 3em !important;
			}

			.headertextCenter {
				right: 0;
				width: 100% !important;
			}

			#title {
				position: absolute;
				top: 0;
				height: inherit;
				text-align: center;
				margin: 0;
				margin-top: 0.5em;
				color: white;
				z-index: 1;
				transition: right 2s, width 2s, margin-right 2s;
			}

			.maincolor {
				color: #FFFFFF;
			}
			
			.headerbutton {
				width: 1.75em;
				height: 1.75em;
				position: relative;
				cursor: pointer;
				z-index: 2;
				border-radius: 5px;
			}

			.fancybutton {
				transition: box-shadow 0.1s ease-in-out;
			}
			.fancybutton:hover {
				box-shadow: inset 0 0 2px #aaa;
			}
			.fancybutton:active {
				box-shadow: inset 0 0 6px #555;
			}

			.CodeMirror {
				height: auto !important;
			}

			.holder {
				background-color: #000;
				opacity: 0.4;
				position: absolute;
				z-index: 3;
				width: 100%;
				height: 100%;
				left: 0;
				top: 0;
			}

			.button {
				text-align: center;
				background-color: #D8D8D8;
				height: 1em;
				padding-top: 0.35em;
				padding-bottom: 0.55em;
				border-radius: 2px;
				cursor: pointer;
			}

			.button_hover { /*_hover for JavaScript mousover*/
				text-align: center;
				background-color: #C8C8C8;
				height: 1em;
				padding-top: 0.35em;
				padding-bottom: 0.55em;
				border-radius: 2px;
			}

			.button:hover {
				background-color: #C8C8C8;
			}

			.popup {
				background-color: #eee;
				position: absolute;
				z-index: 4;
				left: 50%;
				top: 50%;
				border-radius: 4px;
				-moz-user-select: none;
				-webkit-user-select: none;
				user-select:none;
			}

			.filepopup {
				width: 255px;
				height: 100px;
				margin-left: -125px;
				margin-top: -50px;
			}

			/*New file prompt*/
			.filetext {
				position: relative;
				width: 79%;
				height: 26px;
				left: 2px;
				top: 4px;
				font-size: 16px;
				font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
			}

			/*Edit prompt*/
			.editfiletext {
				position: relative;
				width: 98%;
				height: 26px;
				left: 1%;
				top: 4px;
				font-size: 16px;
				font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
			}

			.deletetext {
				position: relative;
				width: 100%;
				height: 26px;
				text-align: center;
				left: 2px;
				top: 4px;
				font-size: 16px;
				font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
			}

			.filetype {
				position: relative;
				top: 3px;
				height: 26px;
			}

			.popuptitle {
				font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
				font-size: 16px;
				text-align: center;
				padding-top: 3px;
				padding-bottom: 3px;
				position: relative;
				margin: 0;
				left: 0;
				top: 0;
			}

			.filecancel {
				font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
				font-size: 16px;
				text-align: center;
				position: relative;
				margin: 0;
				left: 2.5%;
				top: -16px;
				width: 45%;
				cursor: pointer;
			}

			.fileokay {
				font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
				font-size: 16px;
				text-align: center;
				position: relative;
				margin: 0;
				left: 52.5%;
				top: 13px;
				width: 45%;
				cursor: pointer;
			}

			.folderpopup {
				width: 400px;
				height: 300px;
				margin-left: -200px;
				margin-top: -150px;
			}

			.fileholder {
				position: relative;
				background-color: inherit;
				margin: 15px;
				left: 0;
				top: 0%;
				width: auto;
				height: 205px;
				overflow-y: auto;
				overflow-x: hidden;

			}

			.newfilebutton {
				margin-top: 0 !important;
			}

			.filebutton {
				background-color: #D8D8D8;
				font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
				font-size: 16px;
				text-align: center;
				margin: 0;
				position: relative;
				width: 96%;
				left: 2%;
				margin-top: 3%;
				height: 20px;
				padding: 2px;
				cursor: pointer;
				user-select: none;
			}

			.filebutton_hover {
				background-color: #C8C8C8;
				font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
				font-size: 16px;
				text-align: center;
				margin: 0;
				position: relative;
				width: 96%;
				left: 2%;
				margin-top: 3%;
				height: 20px;
				padding: 2px;
				cursor: pointer;
			}

			.filebutton:hover {
				background-color: #C8C8C8;
			}

			.filediv_hover {
				background-color: #C8C8C8;
			}

			.filediv:hover {
				background-color: #C8C8C8;
			}

			.themecancel {
				font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
				font-size: 16px;
				text-align: center;
				position: relative;
				margin: 0;
				cursor: pointer;
				left: 30%;
				width: 40%;
			}

			.untitleddiv {
				margin-bottom: -0.3em;
			}

			.pencilbutton {
				width: 1.3em;
				height: 1.3em;
				position: relative;
				left: 99%;
				margin-top: -1.45em;
				margin-left: -1.3em;
				border-radius: 100%;
				cursor: pointer;
			}

			.pencilbutton_hover {
				background-color: #758888;
				width: 1.3em;
				height: 1.3em;
				position: relative;
				left: 99%;
				margin-top: -1.45em;
				margin-left: -1.3em;
				border-radius: 100%;
				cursor: pointer;
			}

			.outputOpen {
				transition: top 2s, bottom 2s;
				overflow-y: hidden;
				position: absolute;
				top: calc(100% - {{.OutputSize}}%);
				top: -webkit-calc(100% - {{.OutputSize}}%);
				bottom: 0;
				left: 0;
				width: inherit;
				-moz-user-select: none;
				-webkit-user-select: none;
				user-select:none;
				font-family: monospace;
				line-height: 1em;
				z-index: 4;
			}

			.outputClosed {
				transition: top 2s, bottom 2s;
				position: absolute;
				width: inherit;
				top: 100%;
				left: 0;
				font-family: monospace;
				line-height: 1em;
				z-index: 4;
			}

			#outputActual {
				top: 27px;
				height: calc(100% - 26px);
				height: -webkit-calc(100% - 26px);
				width: 100%;
				line-height: 1;
			}

			#stdin {
				color: inherit;
				background-color: inherit;
				border-width: 0;
				display: inline;
				outline: none;
			}

			.codeShort {
				transition: height 2s;
				height: calc(100% - {{.OutputSize}}% - 2em);
				height: -webkit-calc(100% - {{.OutputSize}}% - 2em);
			}

			.codeLong {
				height: calc(100% - 2em);
				height: -webkit-calc(100% - 2em);
			}

			#webview {
				width: 0;
				position: absolute;
				bottom: 0;
				height: 100%;
				left: 100%;
			}

			.sprerr {
				background-color: #000;
				background-color: #ffffaf;
			}

			.spr1 {
				color: #fff;
				background-color: #110000;
			}
			.spr2 {
				color: #fff;
				background-color: #220000;
			}
			.spr3 {
				color: #fff;
				background-color: #330000;
			}
			.spr4 {
				color: #fff;
				background-color: #440000;
			}
			.spr5 {
				color: #fff;
				background-color: #550000;
			}
			.spr6 {
				color: #fff;
				background-color: #660000;
			}
			.spr7 {
				color: #fff;
				background-color: #770000;
			}
			.spr8 {
				color: #fff;
				background-color: #880000;
			}
			.spr9 {
				color: #fff;
				background-color: #990000;
			}
			.spra {
				color: #fff;
				background-color: #aa0000;
			}
			.sprb {
				color: #fff;
				background-color: #bb0000;
			}
			.sprc {
				color: #fff;
				background-color: #cc0000;
			}
			.sprd {
				color: #fff;
				background-color: #dd0000;
			}
			.spre {
				color: #fff;
				background-color: #ee0000;
			}
			.sprf {
				color: #fff;
				background-color: #ff0000;
			}
		</style>
		<link rel="stylesheet" href="/cm.css">
		<link id="theme" rel="stylesheet" href="/themes/solarized-dark.css">
		<script src="/cm.js"></script>
		<script src="/python.js"></script>
		<script src="/shell.js"></script>
		<script src="/ide.js"></script>
	</head>
	<body onkeyup="key(event)">
		<div id="ide" style="width:100%;height:100%;transition: width 2s ease-in-out;">
			<header id="header" class="maincolor" onclick="headerClick()">
				<img draggable="false" id="play" class="headerbutton fancybutton" src="/images/play.png" onclick="run()"></img>
				<img draggable="false" id="open" class="headerbutton fancybutton" src="/images/folder.png" onclick="openFile(true)"></img>
				<img draggable="false" id="save" class="headerbutton fancybutton" src="/images/savegray.png"></img>
				<img draggable="false" id="themeb" class="headerbutton fancybutton" src="/images/theme.png" onclick="changeTheme()"></img>
				<h4 id="title">Untitled</h4>
			</header>
			<div id="codewrapper" class="codeShort" style="width:100%;"></div>
			<div id="output" class="outputOpen" onclick="outFocus()">
				<div class="maincolor" id="outputLabel" style="top:0%;height:2em;color:#ffffff;position:absolute;width:100%;z-index:1;"><h4 style="margin-top:3;">Program Output</h4>
					<img draggable="false" id="outputbutton" class="fancybutton" src="/images/arrow-right.png" style="position:relative;margin-top:-3em;height:2em;transition:transform 1s, margin-top 2s;filter:invert(100%);-webkit-filter:invert(100%);transform:rotateZ(90deg);margin-left:-3em;left:100%;" onclick="toggleOutput()"></img>
				</div>
				<pre id="outputActual" style="margin:0;tab-size:4;overflow-y:auto;overflow-x:hidden;position:absolute;z-index:0;">
<span id="outputtext"></span><input type="text" id="stdin"></input> </pre>
			</div>
		</div>
		<div id="webview" class="webview" style="height:100%;transition: width 2s ease-in-out, left 2s ease-in-out;">
			<div style="height:2em;position:relative;z-index:2;background-color:#bbbbbb;">
				<img draggable="false" id="webbutton" class="fancybutton" src="/images/arrow-right.png" style="position:relative;margin-left:-2em;height:2em;transition:transform 1s;-webkit-filter: invert(100%);filter:invert(100%);transform:rotateY(180deg);" onclick="toggleWeb()"></img>
				<img draggable="false" src="/images/back.png" class="fancybutton" style="height:2em;" onclick='document.getElementById("webviewframe").contentWindow.history.back()'/>
				<img draggable="false" src="/images/forward.png" class="fancybutton" style="height:2em;" onclick='document.getElementById("webviewframe").contentWindow.history.forward()'/>
				<img draggable="false" src="/images/home.png" class="fancybutton" style="height:2em;" onclick='document.getElementById("webviewframe").src = "/website/lessons"'/>
				<img draggable="false" src="/images/api.png" class="fancybutton" style="height:2em;" onclick='document.getElementById("webviewframe").src = "/website/api/"'/>
			</div>
			<iframe id="webviewframe" src="/website/lessons/" style="border:0px;height:calc(100% - 2em);height:-webkit-calc(100% - 2em);width:100%;position:relative;z-index:1;"/>
		</div>
	</body>
</html>
